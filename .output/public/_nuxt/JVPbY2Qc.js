import{d as w,s as B,o as D,I as V,J as R,h as j,y as x,K as z,L as A,F as b,D as e,g as o,z as _,C as s,A as g,E as c,B as h,G as r,M as k,N as E,O as L}from"./Ca4cKiAu.js";const M=Symbol.for("nuxt:client-only"),F=w({name:"ClientOnly",inheritAttrs:!1,props:["fallback","placeholder","placeholderTag","fallbackTag"],setup(n,{slots:t,attrs:a}){const f=B(!1);D(()=>{f.value=!0});const l=V();return l&&(l._nuxtClientOnly=!0),z(M,!0),()=>{if(f.value){const i=t.default?.();return i&&i.length===1?[R(i[0],a)]:i}const d=t.fallback||t.placeholder;if(d)return j(d);const p=n.fallback||n.placeholder||"",m=n.fallbackTag||n.placeholderTag||"span";return x(m,a,p)}}}),G=A("isbn",{state:()=>({results:[],nextId:1}),actions:{addResult(n){if(this.results.some(a=>a.isbn===n)){console.log("此 ISBN 已存在清單中，不重複加入");return}this.results.unshift({id:this.nextId++,isbn:n,time:new Date().toLocaleTimeString()})},deleteResult(n){this.results=this.results.filter(t=>t.id!==n),this.results.forEach((t,a)=>{t.id=this.results.length-a}),this.nextId=this.results.length+1,console.log("重排後的結果:",this.results)}}}),J={class:"h-100 mb-4"},K={class:"text-caption"},P={class:"d-flex ga-5 justify-center"},$={__name:"list",setup(n){const t=G(),a=()=>{confirm("確定要清空所有紀錄嗎？")&&(t.results=[],t.nextId=1)};return(f,l)=>{const d=o("v-list-item-title"),p=o("v-list-item-subtitle"),m=o("v-toolbar-title"),i=o("v-toolbar"),y=o("v-list-item"),C=F,S=o("v-avatar"),v=o("v-btn"),I=o("v-divider"),T=o("v-list"),N=o("v-container");return _(),b(N,{class:"h-100 d-flex flex-column"},{default:e(()=>[s(i,{color:"transparent",class:"mb-4"},{default:e(()=>[s(m,null,{default:e(()=>[s(d,{class:"text-h5 font-weight-bold"},{default:e(()=>[...l[1]||(l[1]=[c("掃描紀錄",-1)])]),_:1}),s(p,{class:"text-caption text-grey"},{default:e(()=>[c(" 共 "+h(r(t).results.length)+" 筆 ",1)]),_:1})]),_:1})]),_:1}),g("div",J,[s(T,{lines:"two",border:"",class:"rounded-lg"},{default:e(()=>[r(t).results.length===0?(_(),b(y,{key:0,class:"text-center py-8"},{default:e(()=>[s(d,{class:"text-grey"},{default:e(()=>[...l[2]||(l[2]=[c("目前沒有紀錄",-1)])]),_:1})]),_:1})):(_(!0),x(k,{key:1},E(r(t).results,(u,O)=>(_(),x(k,{key:u.id},[s(y,{title:u.isbn},{subtitle:e(()=>[s(C,null,{default:e(()=>[c(h(u.time),1)]),_:2},1024)]),prepend:e(()=>[s(S,{color:"primary",variant:"tonal",size:"small"},{default:e(()=>[g("span",K,h(u.id),1)]),_:2},1024)]),append:e(()=>[s(v,{icon:"mdi-delete",variant:"text",color:"grey-lighten-1",onClick:q=>r(t).deleteResult(u.id)},null,8,["onClick"])]),_:2},1032,["title"]),O<r(t).results.length-1?(_(),b(I,{key:0,class:"border-opacity-25"})):L("",!0)],64))),128))]),_:1})]),g("div",P,[s(v,{color:"success",variant:"tonal","prepend-icon":"mdi-export",onClick:l[0]||(l[0]=()=>{}),disabled:r(t).results.length===0},{default:e(()=>[...l[3]||(l[3]=[c(" 匯出 ",-1)])]),_:1},8,["disabled"]),s(v,{color:"error",variant:"tonal","prepend-icon":"mdi-delete-sweep",onClick:a,disabled:r(t).results.length===0},{default:e(()=>[...l[4]||(l[4]=[c(" 清空 ",-1)])]),_:1},8,["disabled"])])]),_:1})}}},Q=Object.freeze(Object.defineProperty({__proto__:null,default:$},Symbol.toStringTag,{value:"Module"}));export{$ as _,Q as l,G as u};
